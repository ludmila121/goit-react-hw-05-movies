{"version":3,"file":"static/js/56.abebb995.chunk.js","mappings":"0KA6BA,IAzBmB,SAAC,GAAgB,IAAdA,EAAa,EAAbA,OACdC,GAAWC,EAAAA,EAAAA,MACjB,OACE,wBACGF,EAAOG,KAAI,YAAoB,IAAjBC,EAAgB,EAAhBA,GAAIC,EAAY,EAAZA,MACjB,OACE,yBACE,SAAC,EAAAC,KAAD,CAAMC,GAAE,kBAAaH,GAAMI,MAAO,CAAEC,KAAMR,GAA1C,SACGI,KAFID,EAMZ,KAGN,C,qICjBYM,EAAa,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC3B,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KAcA,OACE,+BACE,kBAAMH,SAXU,SAAAI,GAGlB,GAFAA,EAAEC,kBACmBH,EAAMI,OAEzB,OAAOC,MAAM,iCAEfP,EAASE,GACTC,EAAS,GACV,EAGG,WACE,kBAAOK,KAAK,OAAOC,MAAOP,EAAOQ,SAfnB,SAAAN,GAClBD,EAASC,EAAEO,cAAcF,MAC1B,KAcK,mBAAQD,KAAK,SAAb,SAAsB,eAI7B,E,iBCnBc,SAASI,IACtB,OAAwCC,EAAAA,EAAAA,mBAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA4Bd,EAAAA,EAAAA,UAAS,MAArC,eAAOZ,EAAP,KAAe2B,EAAf,MAEAC,EAAAA,EAAAA,YAAU,WAAM,wCAId,8GAE2BC,EAAAA,EAAAA,IAAkBJ,GAF7C,OAEUK,EAFV,OAGIH,EAAUG,GACLA,EAASC,QACZb,MAAM,kCALZ,gDAQIc,QAAQC,QARZ,0DAJc,sBACAR,EAAaS,IAAI,UADjB,mCAedC,EACD,GAAE,CAACV,IAKJ,OACE,iCACE,SAACf,EAAD,CAAYC,SALI,SAAAE,GAClBa,EAAgB,CAAEb,MAAAA,GACnB,IAIIb,IAAU,SAACoC,EAAA,EAAD,CAAYpC,OAAQA,MAGpC,C","sources":["components/MoviesList/MoviesList.jsx","components/SearchForm/SearchForm.js","views/MoviesPage.jsx"],"sourcesContent":["import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { PropTypes } from 'prop-types';\n\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <ol>\n      {movies.map(({ id, title }) => {\n        return (\n          <li key={id}>\n            <Link to={`/movies/${id}`} state={{ from: location }}>\n              {title}\n            </Link>\n          </li>\n        );\n      })}\n    </ol>\n  );\n};\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};\nexport default MoviesList;\n","import { useState } from 'react';\n\nexport const SearchForm = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const handlChange = e => {\n    setQuery(e.currentTarget.value);\n  };\n  const handlSubmit = e => {\n    e.preventDefault();\n    const currentQuery = query.trim();\n    if (!currentQuery) {\n      return alert('Please enter a valid request!');\n    }\n    onSubmit(query);\n    setQuery('');\n  };\n  return (\n    <>\n      <form onSubmit={handlSubmit}>\n        <input type=\"text\" value={query} onChange={handlChange}></input>\n        <button type=\"submit\">Search</button>\n      </form>\n    </>\n  );\n};\n\nexport default SearchForm;\n","import MoviesList from 'components/MoviesList/MoviesList';\nimport { SearchForm } from 'components/SearchForm/SearchForm';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchSearchMovies } from 'services/api';\n\nexport default function SearchMovies() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movies, setMovies] = useState(null);\n\n  useEffect(() => {\n    const query = searchParams.get('query');\n    if (!query) return;\n\n    async function fetchMovies() {\n      try {\n        const response = await fetchSearchMovies(searchParams);\n        setMovies(response);\n        if (!response.length) {\n          alert('Nothing found for your request');\n        }\n      } catch (error) {\n        console.error();\n      }\n    }\n    fetchMovies();\n  }, [searchParams]);\n\n  const handlSubmit = query => {\n    setSearchParams({ query });\n  };\n  return (\n    <>\n      <SearchForm onSubmit={handlSubmit} />\n      {movies && <MoviesList movies={movies} />}\n    </>\n  );\n}\n"],"names":["movies","location","useLocation","map","id","title","Link","to","state","from","SearchForm","onSubmit","useState","query","setQuery","e","preventDefault","trim","alert","type","value","onChange","currentTarget","SearchMovies","useSearchParams","searchParams","setSearchParams","setMovies","useEffect","fetchSearchMovies","response","length","console","error","get","fetchMovies","MoviesList"],"sourceRoot":""}